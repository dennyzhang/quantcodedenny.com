<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The QuantCodeDenny Blog</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="module">
    import React from 'https://esm.sh/react@18.2.0';
    import ReactDOM from 'https://esm.sh/react-dom@18.2.0/client';

    // This is the core App component for the GitHub-powered blog.
    // It fetches and displays Markdown content from a GitHub repository.
    function App() {
      const [posts, setPosts] = React.useState([]);
      const [currentPost, setCurrentPost] = React.useState(null);
      const [isLoading, setIsLoading] = React.useState(true);
      const [error, setError] = React.useState(null);
      const [view, setView] = React.useState('list'); // 'list' or 'post'
      const [filterCategory, setFilterCategory] = React.useState(null); // New state for category filter

      // Configuration for your GitHub repository.
      // The repository must be public, and your posts should be in a directory, e.g., 'posts/'.
      // IMPORTANT: Please change these values to your GitHub username and repository name.
      const GITHUB_USERNAME = 'dennyzhang'; // <--- CHANGE THIS TO YOUR GITHUB USERNAME
      const REPO_NAME = 'quantcodedenny.com'; // <--- CHANGE THIS TO YOUR REPO NAME
      // Change POSTS_DIRECTORY to an array of folders you want to fetch posts from.
      const POSTS_DIRECTORIES = ['quant', 'code']; 

      // Helper function to fetch file content from GitHub
      const fetchGitHubFile = async (path) => {
        try {
          const url = `https://api.github.com/repos/${GITHUB_USERNAME}/${REPO_NAME}/contents/${path}`;
          console.log('Fetching file URL:', url);
          const response = await fetch(url);
          if (!response.ok) {
            throw new Error(`GitHub API error: ${response.status} ${response.statusText}`);
          }
          const data = await response.json();
          const content = atob(data.content); // Decode the base64 content
          return content;
        } catch (err) {
          console.error("Failed to fetch GitHub file:", err);
          setError("Failed to load content. Please check your username, repository name, and file path.");
          return null;
        }
      };

      // Fetches the list of posts from the GitHub repository
      React.useEffect(() => {
        const fetchPosts = async () => {
          // Check if username and repo name have been updated
          if (GITHUB_USERNAME === 'your-github-username' || REPO_NAME === 'your-repo-name') {
            setError("Please update your GitHub username and repository name in the code first!");
            setIsLoading(false);
            return;
          }
          
          let allPosts = [];
          
          try {
            // Loop through each directory to fetch posts
            for (const directory of POSTS_DIRECTORIES) {
              const url = `https://api.github.com/repos/${GITHUB_USERNAME}/${REPO_NAME}/contents/${directory}`;
              console.log('Fetching posts URL:', url);
              const response = await fetch(url);
              if (!response.ok) {
                // If a directory doesn't exist, we just skip it
                console.warn(`Directory not found: ${directory}. Skipping.`);
                continue;
              }
              const files = await response.json();
              const mdFiles = files.filter(file => file.name.endsWith('.md'));
              const postData = mdFiles.map(file => ({
                name: file.name,
                title: file.name.replace('.md', '').replace(/-/g, ' ').toUpperCase(),
                path: file.path,
                category: directory // Add category for filtering
              }));
              allPosts = allPosts.concat(postData);
            }
            
            setPosts(allPosts);
            setIsLoading(false);
          } catch (err) {
            console.error("Failed to fetch post list:", err);
            setError("Failed to load posts. Please check your GitHub configuration. Ensure the username and repository name are correct, and the specified folders exist.");
            setIsLoading(false);
          }
        };

        fetchPosts();
      }, [GITHUB_USERNAME, REPO_NAME]);

      // Handles clicking on a post title to view the full content
      const handlePostClick = async (post) => {
        setIsLoading(true);
        const content = await fetchGitHubFile(post.path);
        if (content) {
          setCurrentPost({ ...post, content });
          setView('post');
        }
        setIsLoading(false);
      };

      // Handles clicking the back button
      const handleBackClick = () => {
        setCurrentPost(null);
        setView('list');
      };
      
      // Handles clearing the category filter
      const handleClearFilter = () => {
          setFilterCategory(null);
      };

      // Component to render the post list
      const PostList = () => {
        // Filter posts based on the selected category
        const filteredPosts = filterCategory
          ? posts.filter(post => post.category === filterCategory)
          : posts;

        return React.createElement(
          "div",
          { className: "space-y-6" },
          React.createElement(
            "div",
            { className: "p-6 bg-gray-100 rounded-xl shadow-inner mb-6" },
            React.createElement(
              "h2",
              { className: "text-3xl font-bold text-gray-800 mb-2" },
              "Hello and Welcome!"
            ),
            React.createElement(
              "p",
              { className: "text-lg text-gray-700 leading-relaxed" },
              "I'm Denny, an ML Infra Tech Lead with almost 20 years of experience at a leading Silicon Valley tech company. Here, I'll be sharing my insights and projects on machine learning infrastructure, large language model (LLM) applications, and investing in new technology stocks."
            ),
            React.createElement(
              "p",
              { className: "mt-2 text-lg text-gray-700 leading-relaxed" },
              "If you're interested in how tech infrastructure powers the future of AI, or want to learn about investing in the next tech giants, you're in the right place. Let's explore these topics together!"
            ),
            // New social links section
            React.createElement(
              "div",
              { className: "mt-4 flex flex-wrap justify-center space-x-4" },
              React.createElement(
                "a",
                {
                  href: "https://github.com/dennyzhang",
                  target: "_blank",
                  rel: "noopener noreferrer",
                  className: "text-gray-600 hover:text-gray-900 transition-colors"
                },
                React.createElement(
                  "svg",
                  { xmlns: "http://www.w3.org/2000/svg", className: "h-8 w-8", viewBox: "0 0 24 24", fill: "currentColor" },
                  React.createElement("path", { fillRule: "evenodd", d: "M12 2A10 10 0 002 12c0 4.42 2.87 8.17 6.84 9.5.5.09.68-.22.68-.49v-1.78c-2.78.61-3.37-1.34-3.37-1.34a2.66 2.66 0 00-1.12-1.48c-.92-.63.07-.61.07-.61a2.11 2.11 0 011.54 1.03c1.37 2.34 3.65 1.67 4.54 1.28a2.15 2.15 0 01.65-1.34c-2.73-.3-5.6-1.36-5.6-6.07a4.73 4.73 0 011.27-3.23c-.13-.3-.55-1.53.12-3.19a4.88 4.88 0 013.1-.96c.01 0 .02 0 .03 0a4.88 4.88 0 013.1.96c.67 1.66.25 2.89.12 3.19a4.73 4.73 0 011.27 3.23c0 4.72-2.87 5.77-5.6 6.07a2.38 2.38 0 01.68 1.83v2.74c0 .27.18.58.68.49A10 10 0 0022 12a10 10 0 00-10-10z", clipRule: "evenodd" }),
                  "GitHub"
                )
              ),
              React.createElement(
                "a",
                {
                  href: "https://x.com/DennyZhang16",
                  target: "_blank",
                  rel: "noopener noreferrer",
                  className: "text-gray-600 hover:text-gray-900 transition-colors"
                },
                React.createElement(
                  "svg",
                  { xmlns: "http://www.w3.org/2000/svg", className: "h-8 w-8", viewBox: "0 0 24 24", fill: "currentColor" },
                  React.createElement("path", { d: "M18.901 1.153C17.653 0.61 16.31 0.285 14.896 0.11a.488.488 0 00-.5.35c-.01.07-.022.14-.022.21v.465c0 .022 0 .044.022.066a.48.48 0 00.37.494c.48.066.97.143 1.455.22c.988.165 1.99.395 2.978.66.198.055.374.077.538.077a.488.488 0 00.418-.285c.077-.132.143-.264.22-.395a.48.48 0 00-.011-.55zM22.99 4.89c-.066-.11-.132-.22-.22-.32a.488.488 0 00-.505-.187c-.033.011-.066.022-.11.022-.22-.011-.44-.022-.67-.033-.44-.011-.88-.022-1.32-.033-1.078-.022-2.156-.011-3.234 0-1.155.022-2.31.044-3.465.066-1.122.022-2.244.044-3.366.077a.48.48 0 00-.473.54c.033.154.121.285.22.374.132.121.264.22.385.32c.165.132.33.253.517.374a.488.488 0 00.616-.011c.209-.22.429-.44.66-.66.187-.198.374-.395.561-.594.132-.143.264-.285.395-.429.285-.297.583-.583.891-.868a.48.48 0 00-.011-.649zM19.167 19.824c-.033.066-.066.121-.11.187-.044.055-.077.121-.132.165-.11.121-.22.22-.363.308a.48.48 0 00-.484.285c-.066.121-.132.242-.198.363-.099.187-.22.363-.341.538a.48.48 0 00.088.583c.121.143.285.242.429.352.121.1.253.198.385.285.242.176.495.341.748.517.132.088.242.154.341.22.121.077.242.154.363.22a.488.488 0 00.616-.242c.077-.143.143-.297.22-.44.11-.22.22-.44.33-.66.077-.176.165-.341.253-.517.066-.11.132-.22.187-.33a.48.48 0 00-.374-.637c-.176-.022-.341-.033-.517-.033-.176-.011-.352-.022-.538-.033zM.649 18.068a.48.48 0 00-.22.462c.022.099.088.187.165.253.077.066.154.121.242.165.176.088.352.187.528.285.11.055.209.11.319.154a.488.488 0 00.627-.198c.088-.132.176-.264.264-.395.099-.121.209-.242.308-.363.077-.088.154-.187.231-.275.055-.066.11-.121.165-.187a.48.48 0 00-.605-.726c-.143.044-.285.088-.429.121-.165.044-.33.077-.495.11-.187.033-.374.066-.561.088zM2.87 23.32c-.066-.121-.121-.242-.187-.352-.066-.11-.132-.209-.198-.32a.488.488 0 00-.616-.319c-.198.022-.385.055-.583.088-.22.033-.44.066-.66.11-.22.044-.44.088-.66.121a.488.488 0 00-.473.54c.033.154.11.285.209.385.11.11.22.22.33.319.121.11.253.22.385.32a.488.488 0 00.561-.099c.143-.132.285-.275.418-.418.143-.154.275-.308.385-.473.066-.099.132-.209.198-.319zM7.18 20.91a.488.488 0 00-.077.583c.121.132.253.264.385.385.121.11.242.22.363.33a.488.488 0 00.616-.253c.11-.22.22-.44.33-.66.132-.264.264-.528.385-.792.055-.132.121-.264.187-.395a.488.488 0 00-.517-.616c-.165.011-.33.022-.495.033-.187.011-.374.022-.561.033zM11.979 23.774a.488.488 0 00-.385.143c-.11.121-.22.242-.319.374-.11.143-.22.264-.319.395-.121.143-.242.275-.363.418a.488.488 0 00-.55-.077c-.121-.044-.242-.099-.363-.154-.231-.11-.462-.22-.682-.352-.165-.11-.33-.22-.495-.33-.154-.121-.308-.242-.451-.363a.488.488 0 00-.67-.099c-.154.121-.308.242-.462.374-.165.132-.33.253-.495.385-.165.132-.319.275-.484.385a.48.48 0 00-.473.572c.044.154.121.285.22.385.077.088.165.187.253.275.143.143.285.285.429.418.154.143.308.275.462.407.242.198.495.385.748.561.165.11.33.22.495.319.165.099.33.198.495.297a.48.48 0 00.418-.11c.143-.132.275-.275.407-.407.121-.121.242-.242.363-.363.132-.132.253-.264.385-.395.231-.22.462-.44.682-.66.077-.077.165-.154.242-.231.066-.066.121-.132.176-.209a.488.488 0 00-.143-.659zM20.91 19.824a.488.488 0 00-.385.143c-.11.121-.22.242-.319.374-.11.143-.22.264-.319.395-.121.143-.242.275-.363.418a.48.48 0 00-.495.22c-.11.209-.22.429-.33.66-.099.22-.198.44-.297.66-.077.176-.154.341-.242.517a.488.488 0 00.374.637c.154.011.319.022.473.033.176.011.352.022.517.033.187.011.374.022.561.033a.488.488 0 00.561-.209c.099-.176.209-.341.308-.517.11-.187.22-.363.33-.55.121-.22.242-.44.363-.66.088-.165.165-.33.253-.495a.48.48 0 00-.605-.726zM22.062 13.92c-.066-.121-.132-.242-.198-.363a.488.488 0 00-.517-.22c-.176.011-.341.022-.517.033-.187.011-.363.022-.55.033-.187.011-.374.022-.561.033a.48.48 0 00-.484.44c-.033.154.044.297.165.407.11.11.22.22.33.319.11.11.22.22.341.33.209.198.44.395.66.583a.488.488 0 00.66-.11c.099-.11.209-.22.308-.33.132-.143.264-.285.395-.429.088-.088.176-.176.253-.264a.48.48 0 00-.429-.627zM23.116 8.356c-.055-.11-.11-.22-.176-.33a.488.488 0 00-.495-.242c-.22.022-.44.044-.66.066-.22.022-.44.044-.66.066-.22.033-.44.055-.66.088a.488.488 0 00-.517.44c-.033.165.044.33.154.451.121.132.253.264.374.385.132.121.264.242.395.363.22.209.451.418.67.627.143.143.285.285.429.429a.488.488 0 00.682-.011c.143-.132.285-.275.418-.418.121-.121.242-.242.363-.363.121-.121.242-.242.363-.363a.48.48 0 00-.495-.737z" })
                ),
                "X (Twitter)"
              ),
              React.createElement(
                "a",
                {
                  href: "https://linkedin.com/in/dennyzhang001",
                  target: "_blank",
                  rel: "noopener noreferrer",
                  className: "text-gray-600 hover:text-gray-900 transition-colors"
                },
                React.createElement(
                  "svg",
                  { xmlns: "http://www.w3.org/2000/svg", className: "h-8 w-8", viewBox: "0 0 24 24", fill: "currentColor" },
                  React.createElement("path", { d: "M22.23 0H1.77C.79 0 0 .79 0 1.77v20.46C0 23.21.79 24 1.77 24h20.46c.98 0 1.77-.79 1.77-1.77V1.77C24 .79 23.21 0 22.23 0zM7.17 20.43H3.61v-9.15h3.56v9.15zM5.39 9.17a2.02 2.02 0 110-4.04 2.02 2.02 0 010 4.04zM20.43 20.43h-3.56v-5.9c0-1.42-.03-3.25-1.98-3.25-1.99 0-2.29 1.56-2.29 3.15v5.99h-3.56v-9.15h3.42v1.57h.05c.48-.91 1.66-1.87 3.42-1.87 3.65 0 4.33 2.4 4.33 5.51v6.23z" })
                ),
                "LinkedIn"
              )
            )
          ),
          // New section for Quant - Now a clickable card
          React.createElement(
            "div",
            {
              className: "bg-white rounded-xl shadow-md p-6 flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-6 mb-6 cursor-pointer hover:shadow-lg transition-shadow",
              onClick: () => setFilterCategory('quant')
            },
            // Image column
            React.createElement(
              "div",
              { className: "w-full md:w-1/3" },
              React.createElement("img", {
                src: "https://placehold.co/400x300/4F46E5/ffffff?text=LLM+Investing",
                alt: "LLM Investing",
                className: "rounded-xl shadow-lg w-full h-auto"
              })
            ),
            // Text column
            React.createElement(
              "div",
              { className: "w-full md:w-2/3" },
              React.createElement("h3", { className: "text-2xl font-semibold text-blue-700" }, "Quant: LLMs for Stock Picking & Strategy"),
              React.createElement("p", { className: "mt-2 text-gray-700" }, "Explore how to use LLMs to analyze market sentiment, process financial news at scale, and generate data-driven investment strategies. This is where AI meets finance, turning complex information into actionable insights for the modern investor.")
            )
          ),
          // New section for Code/Infra - Now a clickable card
          React.createElement(
            "div",
            {
              className: "bg-white rounded-xl shadow-md p-6 flex flex-col md:flex-row-reverse items-center space-y-4 md:space-y-0 md:space-x-6 mb-6 cursor-pointer hover:shadow-lg transition-shadow",
              onClick: () => setFilterCategory('code')
            },
            // Image column
            React.createElement(
              "div",
              { className: "w-full md:w-1/3" },
              React.createElement("img", {
                src: "https://placehold.co/400x300/1D4ED8/ffffff?text=Scalable+LLM+Apps",
                alt: "Scalable LLM Apps",
                className: "rounded-xl shadow-lg w-full h-auto"
              })
            ),
            // Text column
            React.createElement(
              "div",
              { className: "w-full md:w-2/3" },
              React.createElement("h3", { className: "text-2xl font-semibold text-blue-700" }, "Code: Building High-Impact LLM Apps"),
              React.createElement("p", { className: "mt-2 text-gray-700" }, "Learn how to leverage robust infrastructure expertise to build scalable, secure, and reliable LLM applications. We'll dive into system design, MLOps, and the engineering principles needed to take AI from prototype to production.")
            )
          ),
          React.createElement(
            "h2",
            { className: "text-3xl font-bold text-gray-800" },
            filterCategory ? `Latest ${filterCategory.toUpperCase()} Posts` : "Latest Posts"
          ),
          filterCategory &&
            React.createElement(
              "button",
              {
                onClick: handleClearFilter,
                className: "mb-4 py-2 px-4 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition-colors"
              },
              "Return to All Posts"
            ),
          filteredPosts.length > 0 ?
            React.createElement(
              "ul",
              { className: "list-none space-y-2" },
              filteredPosts.map(post => React.createElement(
                "li",
                {
                  key: post.path,
                  className: "rounded-lg p-4 bg-white shadow-md hover:bg-gray-100 transition-colors cursor-pointer",
                  onClick: () => handlePostClick(post)
                },
                React.createElement(
                  "h3",
                  { className: "text-xl font-semibold text-gray-700" },
                  post.title
                )
              ))
            ) :
            React.createElement(
              "p",
              { className: "text-gray-500" },
              `No posts found in the '${filterCategory}' category. Please add some markdown files.`
            )
        );
      };

      // Component to render the content of a single post
      const PostView = () => React.createElement(
        "div",
        { className: "space-y-6" },
        React.createElement(
          "button",
          {
            onClick: handleBackClick,
            className: "flex items-center text-gray-600 hover:text-gray-800 transition-colors"
          },
          React.createElement(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              className: "h-5 w-5 mr-2",
              viewBox: "0 0 20 20",
              fill: "currentColor"
            },
            React.createElement("path", {
              fillRule: "evenodd",
              d: "M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",
              clipRule: "evenodd"
            })
          ),
          "Back to Post List"
        ),
        React.createElement(
          "h1",
          { className: "text-4xl font-extrabold text-gray-900" },
          currentPost.title
        ),
        React.createElement(
          "article",
          { className: "prose lg:prose-xl max-w-none text-gray-700" },
          React.createElement(MarkdownRenderer, { markdown: currentPost.content })
        )
      );

      // Renders the main content based on the current view state.
      return React.createElement(
        "div",
        { className: "font-sans min-h-screen bg-gray-50 p-4 sm:p-8 flex flex-col items-center" },
        React.createElement(
          "div",
          { className: "w-full max-w-5xl" },
          React.createElement(
            "header",
            { className: "mb-8 p-6 bg-blue-600 text-white rounded-xl shadow-lg" },
            React.createElement(
              "h1",
              { className: "text-4xl sm:text-5xl md:text-6xl font-black text-center" },
              "The QuantCodeDenny Blog"
            )
          ),
          React.createElement(
            "main",
            { className: "p-6 bg-white rounded-xl shadow-lg min-h-[500px]" },
            isLoading &&
              React.createElement(
                "div",
                { className: "flex justify-center items-center h-full" },
                React.createElement(
                  "div",
                  { className: "text-center text-gray-500" },
                  React.createElement("div", { className: "animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-2" }),
                  React.createElement("p", null, "Loading...")
                )
              ),
            error &&
              React.createElement(
                "div",
                { className: "text-center text-red-500 p-4" },
                React.createElement("p", null, error)
              ),
            !isLoading && !error && (
              view === 'list' ?
                React.createElement(PostList, null) :
                React.createElement(PostView, null)
            )
          )
        )
      );
    }

    // Custom Markdown renderer component
    const MarkdownRenderer = ({ markdown }) => {
      const lines = markdown.split('\n');
      
      // A simple function to render a code block
      const renderCodeBlock = (code, language) => {
        return React.createElement(
          "pre",
          { className: "p-4 rounded-lg overflow-x-auto my-4 bg-gray-800 text-gray-200 text-sm" },
          React.createElement(
            "code",
            { className: `language-${language}` },
            code
          )
        );
      };

      const elements = [];
      let inCodeBlock = false;
      let codeBlockContent = [];
      let codeLanguage = '';

      for (let i = 0; i < lines.length; i++) {
        const line = lines[i];

        if (line.startsWith('```')) {
          if (inCodeBlock) {
            // End of code block
            elements.push(renderCodeBlock(codeBlockContent.join('\n'), codeLanguage));
            inCodeBlock = false;
            codeBlockContent = [];
            codeLanguage = '';
          } else {
            // Start of code block
            codeLanguage = line.substring(3).trim();
            inCodeBlock = true;
          }
        } else if (inCodeBlock) {
          codeBlockContent.push(line);
        } else {
          // Render headings
          if (line.startsWith('### ')) {
            elements.push(React.createElement("h3", { key: i, className: "text-2xl font-semibold mt-6 mb-2" }, line.substring(4)));
          } else if (line.startsWith('## ')) {
            elements.push(React.createElement("h2", { key: i, className: "text-3xl font-bold mt-8 mb-4" }, line.substring(3)));
          } else if (line.startsWith('# ')) {
            elements.push(React.createElement("h1", { key: i, className: "text-4xl font-extrabold mt-10 mb-5" }, line.substring(2)));
          } else if (line.trim() !== '') { // Render paragraphs
            elements.push(React.createElement("p", { key: i, className: "my-4 text-lg leading-relaxed" }, line));
          }
        }
      }

      return React.createElement(
        "div",
        { className: "markdown-body" },
        ...elements
      );
    };

    const rootElement = document.getElementById('root');
    const root = ReactDOM.createRoot(rootElement);
    root.render(React.createElement(App, null));
  </script>
</body>
</html>
